<!--
If not stated otherwise in this file or this component's Licenses.txt file the
following copyright and licenses apply:
Copyright 2024 RDK Management
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<div class="container-fluid">
    <div class="row borders-btm">
        <div class="col"></div>
        <div class="col">
            <h1 class="title">Update</h1>
        </div>
        <div class="col">
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form [formGroup]="jiraUpdateForm" (ngSubmit)="onJiraUpdate()" class="jiraUpdateForm mt-3">
                        <div class="row form-sec">
                            <div class="col">
                                <div class="row mb-3">
                                    <label for="ticketNumber" class="col-md-4 col-form-label">Ticket Number :<span style="color:red; margin-left: 0.75em;">*</span></label>
                                    <div class="col-md-8">
                                        <input type="text" id="ticketNumber" class="form-control"
                                            formControlName="ticketNumber" autocomplete="off" >
                                        <div *ngIf="jiraUpdateForm.controls['ticketNumber']?.invalid && (jiraUpdateForm.controls['ticketNumber']?.dirty || jiraUpdateSubmitted)"
                                            class="text-danger">
                                            <small *ngIf="jiraUpdateForm.controls['ticketNumber']?.errors?.['required']">Please
                                                enter ticketNumber.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="label" class="col-md-4 col-form-label">Label :<span style="color:red; margin-left: 0.75em;">*</span></label>
                                    <div class="col-md-8">
                                        
                                        <ng-multiselect-dropdown  id="label" style=" border-color: gray !important;font-size: 0.8rem;"
                                           [placeholder]="'Select label(s)'" [settings]="labelDropdownSettings"
                                            [data]="allLabels" formControlName="label"  
                                            (onSelect)="onItemSelect($event)" (onDeSelect)="onDeSelect($event)"
                                            (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                                        </ng-multiselect-dropdown>
                                        <div 
                                        *ngIf="jiraUpdateForm.controls['label']?.invalid && (jiraUpdateForm.controls['label']?.dirty || jiraUpdateSubmitted)"
                                            class="text-danger">
                                            <small
                                                *ngIf="jiraUpdateForm.controls['label']?.errors?.['required']">Please
                                                select label.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="comments" class="col-md-4 col-form-label">Comments :<span style="color:red; margin-left: 0.75em;">*</span></label>
                                    <div class="col-md-8">
                                            <textarea rows="10" class="form-control" formControlName="comments"></textarea>
                                        <div 
                                        *ngIf="jiraUpdateForm.controls['comments']?.invalid && (jiraUpdateForm.controls['comments']?.dirty || jiraUpdateSubmitted)"    
                                        class="text-danger">
                                            <small *ngIf="jiraUpdateForm.controls['comments']?.errors?.['required']">Please
                                                enter comments.</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col">

                                <div class="row mb-3">
                                    <label for="user" class="col-md-4 col-form-label">User :<span style="color:red; margin-left: 0.75em;">*</span></label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" id="user"
                                            formControlName="user" autocomplete="off"
                                             >
                                        <div *ngIf="jiraUpdateSubmitted && jiraUpdateForm.controls['user']?.errors"
                                            class="text-danger">
                                            <small
                                                *ngIf="jiraUpdateForm.controls['user']?.errors?.['required']">Please
                                                enter user name.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="password" class="col-md-4 col-form-label">Password :<span style="color:red; margin-left: 0.75em;">*</span></label>
                                    <div class="col-md-8">
                                        <input type="password" class="form-control" id="password"
                                            formControlName="password" autocomplete="off"
                                           >
                                        <div *ngIf="jiraUpdateSubmitted && jiraUpdateForm.controls['password']?.errors"
                                            class="text-danger">
                                            <small
                                                *ngIf="jiraUpdateForm.controls['password']?.errors?.['required']">Please
                                                enter password.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="exelogs" class="col-md-4 col-form-label">Click to attach execution logs :</label>
                                    <div class="col-md-8">
                                        <input class="form-check-input" type="checkbox" id="exelogs"
                                        formControlName="exelogs">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="devlogs" class="col-md-4 col-form-label">Click to attach device logs :</label>
                                    <div class="col-md-8">
                                        <input class="form-check-input" type="checkbox" id="devlogs"
                                        formControlName="devlogs" >
                                    </div>
                                </div>
                            </div>
                        </div>
                    <div class="row">
                    <div class="mt-2 text-end">
                        <button class="close-btn" (click)="close()">Close</button>
                        <button type="submit" class="create-btn" >Update</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
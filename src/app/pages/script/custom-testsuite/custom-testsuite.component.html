<!--
If not stated otherwise in this file or this component's Licenses.txt file the
following copyright and licenses apply:
Copyright 2024 RDK Management
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!-- Main container for the custom test suite form -->
<div class="container-fluid">
  <!-- Row for the top border and title section -->
  <div class="row borders-btm">
    <!-- Left column (empty for spacing) -->
    <div class="col">
    </div>
    <!-- Center column with the page title -->
    <div class="col">
        <h1 class="title"><h1 class="title">Create 
          <span class="title" *ngIf="selectedCategory === 'RDKV'">Video</span>
          <span class="title" *ngIf="selectedCategory === 'RDKB'">Broadband</span>
          Custom TestSuite</h1></h1>
    </div>
    <!-- Right column (empty for spacing) -->
    <div class="col">
    </div>
  </div>
    <!-- Row containing the main form -->
    <div class="row">
      <!-- Form for creating a custom test suite -->
      <form [formGroup]="customFormGroup" (ngSubmit)="customFormSubmit()">
        <!-- Container for category selection and radio buttons -->
        <div class="first-container">
          <!-- Row for category radio buttons -->
          <div class="radiobox"  *ngIf="selectedCategory !== 'RDKB'">
            <h3 class="heading">Select Category :</h3>
            <!-- Group of radio buttons for category selection -->
            <div class="rdkgroup">
              <!-- Radio button for Video category -->
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input rdkradio"
                  type="radio"
                  name="category"
                  id="rdkv"
                  value="RDKV"
                  [(ngModel)]="selectedVideoCategory"
                  (change)="categoryChange('RDKV')"
                  formControlName="category"
                />
                <label class="form-check-label" for="rdkv">Video</label>
              </div>
              <!-- Radio button for Video-Thunder category -->
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input rdkradio"
                  type="radio"
                  name="category"
                  id="rdkc"
                  [(ngModel)]="selectedVideoCategory"
                  value="RDKV_RDKSERVICE"
                  (change)="categoryChange('RDKV_RDKSERVICE')"
                  formControlName="category"
                />
                <label class="form-check-label" for="rdkc">Video-Thunder</label>
              </div>
            </div>
          </div>
        </div>
          <!-- Row for name and description fields -->
          <div class="row first-container">
            <!-- Left column for name and description -->
            <div class="col">
              <!-- Row for name input field -->
              <div class="row first-container mt-1 mb-1">
                <label for="customname" class="col-md-3 col-form-label"
                  >Name<span style="color: red; margin-left: 0.75em">*</span></label
                >
                <!-- Column for name input and validation -->
                <div class="col-md-8">
                  <input
                    type="text"
                    class="form-control"
                    id="customname"
                    autocomplete="off"
                    placeholder="Enter name"
                    formControlName="name"
                  />
                  <div *ngIf="formSubmitted && customFormGroup.controls['name']?.errors" class="text-danger">
                    <small *ngIf="customFormGroup.controls['name']?.errors?.['required']">Please enter name.</small>
                </div>
                </div>
    
              </div>
              <!-- Row for description input field -->
              <div class="row first-container mt-2 mb-1">
                    <label for="desc" class="col-md-3 col-form-label">Description<span style="color:red; margin-left: 0.75em;">*</span></label>
                <!-- Column for description input and validation -->
                <div class="col-md-8">
                    <textarea rows="4" class="form-control" id="desc" formControlName="description" autocomplete="off" placeholder="Enter description"></textarea>
                    <div *ngIf="formSubmitted && customFormGroup.controls['description']?.errors" class="text-danger">
                        <small *ngIf="customFormGroup.controls['description']?.errors?.['required']">Please enter description.</small>
                    </div>
                </div>
              </div>
            </div>
            <!-- Right column for device type and long duration test -->
            <div class="col">
    
              <!-- Row for device type selection -->
              <div class="row first-container mb-2">
                <label for="devicetype" class="col-md-4 label-title col-form-label">
                    DeviceType<span style="color:red; margin-left: 0.75em;">*</span>
                </label>
                <!-- Column for device type select and validation -->
                <div class="col-md-8" style="margin-top: 4px;">
                  <select class="form-select" aria-label="Default select example" id="devicetype" formControlName="deviceType" (change)="devicetypeChange($event)">
                    <option value="" default>Select</option>
                    @for (item of allDeviceType; track $index) {
                        <option value="{{item.deviceTypeName}}">{{item.deviceTypeName}}</option>
                    }
                  </select>
                <div *ngIf="formSubmitted && customFormGroup.controls['deviceType']?.errors" class="text-danger">
                    <small *ngIf="customFormGroup.controls['deviceType']?.errors?.['required']">Please select device type.</small>
                </div>
                </div>
              </div>
              <!-- Row for long duration test checkbox -->
              <div class="row first-container">
                <label for="longtest" class="col-md-4 label-title col-form-label">Long duration test</label>
                <!-- Column for long duration test checkbox -->
                <div class="col-md-8">
                    <div class="form-check form-check-inline form-check-reverse longtest">
                        <input class="form-check-input thunder" type="checkbox" id="longtest"
                            formControlName="longdurationtest"(change)="durationChecked($event)">
                    </div>
                </div>
              </div>
            </div>
    
          </div>
          <!-- Row for additional spacing or future content -->
          <div class="row sec-row">
                <!-- Empty columns for layout spacing -->
                <div class="col-md-4"></div>
                  <div class="col-md-4"></div>
                  <div class="col-md-4"></div>
            </div>
            <!-- Section for module list and select all functionality -->
            <div class="mt-2">
                <span class="titlemodule mb-2 d-block">Module List</span>
                <!-- Row for module selection error message -->
                <div class="error-row">
                <div *ngIf="formSubmitted && customFormGroup.controls['modules']?.errors" class="text-danger">
                  <small *ngIf="customFormGroup.controls['modules']?.errors?.['required']">At least one module must be selected.</small>
                </div>
              </div>
                <!-- Row for select/unselect all modules -->
                <div class="selectall">
                  <input
                  type="checkbox"
                  (change)="checkUncheckAll($event)"
                  [checked]="customFormGroup.value.modules.length === modulesArr.length"
                  [indeterminate]="customFormGroup.value.modules.length > 0 && customFormGroup.value.modules.length < modulesArr.length"
                />
                    <span class="name">Select / Unselect All</span>
              </div>
              <!-- Section for listing all modules as checkboxes -->
              <div class="module-section">
                <!-- Grid layout for module checkboxes -->
                <div class="name-grid" >
                  <!-- Checkbox for each module item -->
                  <div *ngFor="let item of modulesArr; let i = index " class="name-item">
                      <input type="checkbox"  name="list_name " (change)="onChange($event, item)"
                      [checked]="modulesChecked(item)" class="form-check-input thunder" />
                      <span class="name">{{item}}</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Row for form action buttons -->
            <div class="row form-row">
              <!-- Column for back and create buttons -->
              <div class="mt-1 mb-3 text-end btn-grp">
                  <button class="reset-btn" (click)="goBack()">Back</button>
                  <button type="submit" class="create-btn">Create</button>
              </div>
          </div>
        </form>
    <!-- </div> -->

</div>

<!--
If not stated otherwise in this file or this component's Licenses.txt file the
following copyright and licenses apply:
Copyright 2024 RDK Management
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!-- Navigation bar for the change password page -->
<nav class="navbar navbar-expand-lg header">
  <!-- Container for navigation bar content -->
  <div class="container-fluid">
    <a class="navbar-brand"></a>
    <img src="assets/logo/TDKLogoFinal.png" alt="TDK_logo" class="logo-img img-fluid" />
    <!-- <img src="assets/logo/rdkLogo.png" alt="TDK_logo" class="logo-img img-fluid" /> <span class="apptitle">TDK Test -->
      <!-- Development Kit</span> -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText"
      aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <!-- Collapsible navigation content -->
    <div class="collapse navbar-collapse" id="navbarText">
    </div>
  </div>
</nav>

<!-- Main container for change password form -->
<div class="container-fluid">
  <!-- Row for bottom border styling -->
  <div class="row borders-btm">
    <!-- Left column for spacing -->
    <div class="col">
    </div>
    <!-- Center column for title -->
    <div class="col">
      <h1 class="title">Change Password</h1>
    </div>
    <!-- Right column for spacing -->
    <div class="col">
    </div>
</div>
  <!-- Row for form content -->
  <div class="row">
    <!-- Column for form wrapper -->
    <div class="col">
      <!-- Parent container for form -->
      <div class="parent mt-3 mb-2">
        <!-- Container for form box -->
        <div class="container container-box" id="container-box">
          <!-- Form container for change password -->
          <div class="form-container change-password">
            <!-- Change password form -->
            <form [formGroup]="changePasswordForm" (ngSubmit)="resetPassword()">
              <!-- Row for username input -->
              <div class="row mb-3">
                <label for="username" class="col-md-3 col-form-label offset-1">User Name</label>
                <!-- Column for username input field -->
                <div class="col-md-7">
                  <input type="text" class="form-control" id="username" formControlName="username" disable>
                </div>
              </div>
              <!-- Row for old password input -->
              <div class="row mb-3">
                <label for="oldpassword" class="col-md-3 col-form-label offset-1">Old Password</label>
                <!-- Column for old password input field -->
                <div class="col-md-7 position-relative">
                  <input class="form-control" id="oldpassword" [type]="showPasswordOnPress ? 'password' : 'text'"
                    formControlName="oldpassword">
                  <span class="eyeicon" (click)="viewPassword()">
                    <i [ngClass]="showPasswordOnPress?'bi bi-eye-slash':'bi bi-eye'"></i>
                  </span>
                  <!-- Error message for old password -->
                  <div *ngIf="submitted && changePasswordForm.controls['oldpassword']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['oldpassword']?.errors?.['required']">Please enter old
                      password.</small>
                      <small *ngIf="changePasswordForm.controls['oldpassword']?.errors?.['minlength']">Password must be at least 6 characters long.</small>
                  </div>
                </div>
              </div>
              <!-- Row for new password input -->
              <div class="row mb-3">
                <label for="newpassword" class="col-md-3 col-form-label offset-1">New Password</label>
                <!-- Column for new password input field -->
                <div class="col-md-7 position-relative">
                  <input type="password" class="form-control" id="newpassword"
                    [type]="showNewPasswordOnPress ? 'password' : 'text'" formControlName="newpassword">
                  <span class="eyeicon" (click)="viewNewPassword()">
                    <i [ngClass]="showNewPasswordOnPress?'bi bi-eye-slash'  : 'bi bi-eye'"></i>
                  </span>
                  <!-- Error message for new password -->
                  <div *ngIf="submitted && changePasswordForm.controls['newpassword']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['newpassword']?.errors?.['required']">Please enter new
                      password.</small>
                      <small *ngIf="changePasswordForm.controls['newpassword']?.errors?.['minlength']">Password must be at least 6 characters long.</small>
                  </div>
                </div>
              </div>
              <!-- Row for confirm password input -->
              <div class="row mb-3">
                <label for="confirmpassword" class="col-md-3 col-form-label offset-1">Confirm Password</label>
                <!-- Column for confirm password input field -->
                <div class="col-md-7 position-relative">
                  <input type="password" class="form-control" id="confirmpassword"
                    [type]="showConfirmPasswordOnPress ? 'password' : 'text'" formControlName="confirmpassword">
                  <span class="eyeicon" (click)="viewConfirmPassword()">
                    <i [ngClass]="showConfirmPasswordOnPress?'bi bi-eye-slash'  : 'bi bi-eye'"></i>
                  </span>
                  <!-- Error message for confirm password -->
                  <div *ngIf="submitted && changePasswordForm.controls['confirmpassword']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['confirmpassword'].errors?.['required']">Please enter
                      confirm password.</small>
                    <small
                      *ngIf="changePasswordForm.controls['confirmpassword'].errors?.['passwordMatchValidator']">Password
                      didn't match</small>
                  </div>
                </div>
              </div>
              <!-- Row for form buttons -->
              <div class="row" style="margin-bottom: 0.5rem;">
                <!-- Container for reset password and back buttons -->
                <div class="mt-2 resetpwdbtn">
                  <button class="back-btn" routerLink="/configure" matTooltip="Back">Back </button>
                  <button type="submit">Change Password</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>